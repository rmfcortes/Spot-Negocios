<ion-header class="ion-no-border">
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-button (click)="regresar()">
                <ion-icon slot="start" name="chevron-back"></ion-icon>
            </ion-button>
        </ion-buttons>
        <ion-title class="comfortaa">Comentarios</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ng-container *ngIf="ver_pedido; else pedidoTemplate">
        <ion-card>
            <app-trip-selected *ngIf="pedido" [pedido_selected]="pedido"></app-trip-selected>
        </ion-card>
    </ng-container>
    <ng-template #pedidoTemplate>        
        <ion-list *ngFor="let item of comentarios; let odd = odd">
            <ion-item detail lines="none" [ngClass]="{'contraste': odd}" (click)="verPedido(item)">
                <ion-label>
                    <ion-grid fixed>
                        <ion-row>
                            <ion-col size="6">
                                <h2 class="ion-text-wrap" [style.color]="item.puntos < 3 ? 'red' : item.puntos < 4 ? 'orange' : '#595756' ">
                                    {{item.comentarios}}
                                </h2>
                            </ion-col>
                            <ion-col size="6">
                                <app-stars [calificacion]="item.puntos"></app-stars>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                </ion-label>
            </ion-item>
        </ion-list>
    </ng-template>
    

    <ion-infinite-scroll threshold="50px" (ionInfinite)="loadComentarios($event)">
        <ion-infinite-scroll-content loadingSpinner="bubbles">
        </ion-infinite-scroll-content>
    </ion-infinite-scroll>

</ion-content>